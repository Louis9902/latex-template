\usepackage{xcolor}
\usepackage{listings}

\definecolor{listing-background}{HTML}{F7F7F7}
\definecolor{listing-rule}{HTML}{B3B2B3}
\definecolor{listing-numbers}{HTML}{B3B2B3}
\definecolor{listing-text-color}{HTML}{000000}

\definecolor{listing-keyword}{HTML}{435489}
\definecolor{listing-keyword-2}{HTML}{1284CA} % additional keywords
\definecolor{listing-keyword-3}{HTML}{9137CB} % additional keywords

\definecolor{listing-identifier}{HTML}{435489}
\definecolor{listing-string}{HTML}{00999A}
\definecolor{listing-comment}{HTML}{8E8E8E}

\lstdefinestyle{default}{
%% listings disable line numbers
%  xleftmargin      = 0.6em,
%  framexleftmargin = 0.4em,
%% listings enable line numbers
numbers          = left,
xleftmargin      = 2.7em,
framexleftmargin = 2.5em,
backgroundcolor  = \color{listing-background},
basicstyle       = \color{listing-text-color}\linespread{1.0}\small\ttfamily,
breaklines       = true,
frame            = single,
framesep         = 0.19em,
rulecolor        = \color{listing-rule},
frameround       = ffff,
tabsize          = 4,
numberstyle      = \color{listing-numbers}\tiny,
aboveskip        = 1.0em,
belowskip        = 0.1em,
captionpos       = b,
abovecaptionskip = 0em,
belowcaptionskip = 1.0em,
keywordstyle     = {\color{listing-keyword}\bfseries},
keywordstyle     = {[2]\color{listing-keyword-2}\bfseries},
keywordstyle     = {[3]\color{listing-keyword-3}\bfseries},
keywordstyle     = {[4]\color{listing-keyword-3}\bfseries},
keywordstyle     = {[5]\color{listing-keyword-3}\bfseries},
sensitive        = true,
identifierstyle  = \color{listing-identifier},
commentstyle     = \color{listing-comment},
stringstyle      = \color{listing-string},
keepspaces       = true,
showspaces       = false,
showtabs         = false,
showstringspaces = false,
%% allow latex inside these special comments
escapeinside     = {/*@}{@*/},
literate         =
	{á}{{\'a}}1 {é}{{\'e}}1 {í}{{\'i}}1 {ó}{{\'o}}1 {ú}{{\'u}}1
{Á}{{\'A}}1 {É}{{\'E}}1 {Í}{{\'I}}1 {Ó}{{\'O}}1 {Ú}{{\'U}}1
{à}{{\`a}}1 {è}{{\'e}}1 {ì}{{\`i}}1 {ò}{{\`o}}1 {ù}{{\`u}}1
{À}{{\`A}}1 {È}{{\'E}}1 {Ì}{{\`I}}1 {Ò}{{\`O}}1 {Ù}{{\`U}}1
{ä}{{\"a}}1 {ë}{{\"e}}1 {ï}{{\"i}}1 {ö}{{\"o}}1 {ü}{{\"u}}1
{Ä}{{\"A}}1 {Ë}{{\"E}}1 {Ï}{{\"I}}1 {Ö}{{\"O}}1 {Ü}{{\"U}}1
{â}{{\^a}}1 {ê}{{\^e}}1 {î}{{\^i}}1 {ô}{{\^o}}1 {û}{{\^u}}1
{Â}{{\^A}}1 {Ê}{{\^E}}1 {Î}{{\^I}}1 {Ô}{{\^O}}1 {Û}{{\^U}}1
{œ}{{\oe}}1 {Œ}{{\OE}}1 {æ}{{\ae}}1 {Æ}{{\AE}}1 {ß}{{\ss}}1
{ç}{{\c c}}1 {Ç}{{\c C}}1 {ø}{{\o}}1 {å}{{\r a}}1 {Å}{{\r A}}1
{€}{{\EUR}}1 {£}{{\pounds}}1 {«}{{\guillemotleft}}1
{»}{{\guillemotright}}1 {ñ}{{\~n}}1 {Ñ}{{\~N}}1 {¿}{{?`}}1
{…}{{\ldots}}1 {≥}{{>=}}1 {≤}{{<=}}1 {„}{{\glqq}}1 {“}{{\grqq}}1
{”}{{''}}1
}

\lstset{style=default}

\lstdefinelanguage{java}{
	morekeywords={ % normal keywords (without data types)
			abstract,assert,break,case,catch,class,continue,default,
			do,else,enum,exports,extends,final,finally,for,if,implements,
			import,instanceof,interface,module,native,new,package,private,
			protected,public,requires,return,static,strictfp,super,switch,
			synchronized,this,throw,throws,transient,try,volatile,while,
			% var is an identifier
			var
		},
	morekeywords={[2] % data types
			% primitive data types
			boolean,byte,char,double,float,int,long,short,
			% String
			String,
			% primitive wrapper types
			Boolean,Byte,Character,Double,Float,Integer,Long,Short,
			% number types
			Number,AtomicInteger,AtomicLong,
			BigDecimal,BigInteger,
			DoubleAccumulator,DoubleAdder,
			LongAccumulator,LongAdder,
			% other
			Object,Void,void
		},
	morekeywords={[3] % literals
			% reserved words for literal values
			null,true,false,
		},
	sensitive,
	morecomment  = [l]//,
	morecomment  = [s]{/*}{*/},
	morecomment  = [s]{/**}{*/},
	morestring   = [b]",
	morestring   = [b]',
}

\lstdefinelanguage{xml}{
	morestring      = [b]",
	moredelim       = [s][\bfseries\color{listing-keyword}]{<}{\ },
	moredelim       = [s][\bfseries\color{listing-keyword}]{</}{>},
	moredelim       = [l][\bfseries\color{listing-keyword}]{/>},
	moredelim       = [l][\bfseries\color{listing-keyword}]{>},
	morecomment     = [s]{<?}{?>},
	morecomment     = [s]{<!--}{-->},
	commentstyle    = \color{listing-comment},
	stringstyle     = \color{listing-string},
	identifierstyle = \color{listing-identifier}
}

\lstdefinelanguage{containerfile}{
	morekeywords={ % normal keywords
			FROM, RUN, CMD, LABEL, MAINTAINER, EXPOSE, ENV, ADD, COPY, ENTRYPOINT,
			VOLUME, USER, WORKDIR, ARG, ONBUILD, STOPSIGNAL, HEALTHCHECK, SHELL, AS
		},
	morecomment  = [l]{\#},
	morestring   = [b]",
	morestring   = [b]',
}

\lstdefinelanguage{rust}{
morekeywords={ % normal keywords (without data types)
		% control flow keywords
		break,continue,else,for,if,in,loop,match,return,while,
		% in the context of variables
		as,const,let,move,mut,ref,static,
		% in the context of declarations
		dyn,enum,fn,impl,Self,self,struct,trait,type,union,use,where,
		% in the context of modularisation
		crate,extern,mod,pub,super,
		% markers
		unsafe,
		% reserved identifiers
		abstract,alignof,become,box,do,final,macro,offsetof,override,priv,
		proc,pure,sizeof,typeof,unsized,virtual,yield
	},
morekeywords={[2] % primitive data types
		bool,char,f32,f64,i8,i16,i32,i64,isize,str,u8,u16,u32,u64,unit,usize,i128,
		u128
	},
morekeywords={[3] % prelude value constructors
		true,false,Err,Ok,Some,None
	},
morekeywords={[4]
		Add,AddAssign,Any,AsciiExt,AsInner,AsInnerMut,AsMut,AsRawFd,AsRawHandle,
		AsRawSocket,AsRef,Binary,BitAnd,BitAndAssign,Bitor,BitOr,BitOrAssign,
		BitXor,BitXorAssign,Borrow,BorrowMut,Boxed,BoxPlace,BufRead,BuildHasher,
		CastInto,CharExt,Clone,CoerceUnsized,CommandExt,Copy,Debug,DecodableFloat,
		Default,Deref,DerefMut,DirBuilderExt,DirEntryExt,Display,Div,DivAssign,
		DoubleEndedIterator,DoubleEndedSearcher,Drop,EnvKey,Eq,Error,
		ExactSizeIterator,ExitStatusExt,Extend,FileExt,FileTypeExt,Float,Fn,FnBox,
		FnMut,FnOnce,Freeze,From,FromInner,FromIterator,FromRawFd,FromRawHandle,
		FromRawSocket,FromStr,FullOps,FusedIterator,Generator,Hash,Hasher,Index,
		IndexMut,InPlace,Int,Into,IntoCow,IntoInner,IntoIterator,IntoRawFd,
		IntoRawHandle,IntoRawSocket,IsMinusOne,IsZero,Iterator,JoinHandleExt,
		LargeInt,LowerExp,LowerHex,MetadataExt,Mul,MulAssign,Neg,Not,Octal,
		OpenOptionsExt,Ord,OsStrExt,OsStringExt,Packet,PartialEq,PartialOrd,
		Pattern,PermissionsExt,Place,Placer,Pointer,Product,Put,RangeArgument,
		RawFloat,Read,Rem,RemAssign,Seek,Shl,ShlAssign,Shr,ShrAssign,Sized,
		SliceConcatExt,SliceExt,SliceIndex,Stats,Step,StrExt,Sub,SubAssign,Sum,
		Sync,TDynBenchFn,Terminal,Termination,ToOwned,ToSocketAddrs,ToString,Try,
		TryFrom,TryInto,UnicodeStr,Unsize,UpperExp,UpperHex,WideInt,Write,Send
	},
morekeywords={[5]
		% prelude macros
		assert!,assert_eq!,assert_ne!,cfg!,column!,compile_error!,concat!,
		concat_idents!,debug_assert!,debug_assert_eq!,debug_assert_ne!,env!,
		eprint!,eprintln!,file!,format!,format_args!,include!,include_bytes!,
		include_str!,line!,module_path!,option_env!,panic!,print!,println!,
		select!,stringify!,thread_local!,try!,unimplemented!,unreachable!,
		vec!,write!,writeln!
	},
sensitive,
morecomment=[l]{//},
morecomment=[s]{/*}{*/},
moredelim=[s][{\color[rgb]{0,0,0.75}\itshape}]{\#[}{]},
morestring=[b]{"},
alsodigit={},
alsoother={},
alsoletter={!}
}